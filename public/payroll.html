<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SADC Payroll Calculator</title>
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="assets/css/all.css" />
  <script src="https://unpkg.com/feather-icons"></script>
  <style>
body {
  font-family: "Segoe UI", sans-serif;
  margin: 0;
  padding: 0;
  background: #f9f9f9;
  color: #333;
}

.subtitle {
  font-size: 1rem;
  font-weight: 400;
}

.main-footer {
  text-align: center;
  padding: 20px;
  font-size: 13px;
  color: #777;
}

/* Layout */
.layout-grid {
  display: grid;
  grid-template-columns: 2.5fr 1fr;
  gap: 30px;
  max-width: 1100px;
  margin: 40px auto;
}

.calculator-section {
  width: 60%;
  margin: 40px auto;
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

/* Form */
.payroll-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.form-row {
  display: flex;
  flex-direction: column;
}

.triple-input-row {
  display: flex;
  gap: 20px;
  justify-content: space-between;
  flex-wrap: wrap;
}

.triple-input-row .input-group {
  flex: 1;
  min-width: 200px;
}

.input-group label,
label {
  display: block;
  font-weight: 600;
  margin-bottom: 6px;
}

.input-group select,
.input-group input,
select,
input[type="number"] {
  width: 100%;
  padding: 10px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
}

/* Buttons */
.button-row {
  display: flex;
  justify-content: space-between;
  gap: 20px;
  margin-top: 20px;
}

.button-row .btn {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

.btn.calculate {
  background: #bb0303;
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  gap: 6px;
}

.btn.calculate:hover {
  background: #a00202;
}

.btn.convert {
  background: #444;
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  gap: 6px;
}

/* Results */
.results-section {
  margin-top: 30px;
}

.results-section.hidden {
  display: none;
}

.results-section h2 {
  font-size: 1.4rem;
  color: #bb0303;
  margin-bottom: 20px;
}

.results-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 20px;
  margin-top: 20px;
}

.results-grid p {
  flex: 1 1 150px;
  font-size: 14px;
  background: #f2f2f2;
  padding: 10px;
  border-radius: 6px;
  min-width: 140px;
  text-align: center;
}

/* ERP Sidebar */
.erp-sidebar {
  background: url('assets/img/erp-bg.jpg') center/cover no-repeat;
  padding: 20px;
  border-radius: 12px;
  color: white;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  margin-top: 40px;
}

.erp-sidebar.hidden {
  display: none;
}

.erp-overlay {
  background: rgba(0, 0, 0, 0.6);
  padding: 20px;
  border-radius: 12px;
}

.erp-sidebar h3 {
  font-size: 1.4rem;
  margin-bottom: 10px;
}

.erp-sidebar p,
.erp-sidebar li {
  font-size: 14px;
  margin-bottom: 8px;
}

.erp-sidebar ul {
  padding-left: 20px;
}

.btn.erp-cta {
  background: #bb0303;
  color: white;
  padding: 8px 14px;
  border-radius: 6px;
  text-decoration: none;
  font-weight: 600;
  display: inline-block;
  margin-top: 10px;
}

/* Responsive */
@media (max-width: 768px) {
  .layout-grid {
    grid-template-columns: 1fr;
  }

  .results-grid {
    flex-direction: column;
  }

  .button-row {
    flex-direction: column;
  }

  .erp-sidebar {
    margin-top: 30px;
  }
}
    </style>

</head>
<body>
  <header class="navbar">
    <div class="logo"><span>ntchi</span>to</div>
    <nav>
      <a href="#">Home</a>
      <a href="#" class="requires-login" data-redirect="jobs.html">Find Jobs</a>
      <a href="companies.html">Companies</a>
      <a href="post.html">Find Talent</a>
      <a href="intern.html">Internships</a>
      <a href="graduate.html">Post Graduates</a>
      <a href="blog.html">Blog</a>
      <a href="payroll.html">Payroll</a>
      <a href="sage.html">SAGE UK HR</a>
    </nav>
    <div class="nav-actions">
      <button class="login-btn"><i data-feather="log-in"></i> Login</button>
      <button class="requires-login" data-redirect="post.html"><i data-feather="plus-circle"></i> Post a Job</button>
      <button class="menu-toggle" aria-label="Toggle menu"><i data-feather="menu"></i></button>
    </div>
      <div class="sadc-carousel">
    <div class="carousel-track" id="carousel-track">
      <!-- JS will populate country cards here -->
    </div>
  </div>
</header>

<main class="calculator-section">
  <form id="payrollForm">
<div class="form-row triple-input-row">
  <div class="input-group">
        <label for="countrySelect">Country:</label>
        <select id="countrySelect" required>
         <option value="">Location</option>
  <option value="Angola">Angola</option>
  <option value="Botswana">Botswana</option>
  <option value="Comoros">Comoros</option>
  <option value="Democratic Republic of the Congo">Democratic Republic of the Congo</option>
  <option value="Eswatini">Eswatini</option>
  <option value="Lesotho">Lesotho</option>
  <option value="Madagascar">Madagascar</option>
  <option value="Malawi">Malawi</option>
  <option value="Mauritius">Mauritius</option>
  <option value="Mozambique">Mozambique</option>
  <option value="Namibia">Namibia</option>
  <option value="Seychelles">Seychelles</option>
  <option value="South Africa">South Africa</option>
  <option value="Tanzania">Tanzania</option>
  <option value="Zambia">Zambia</option>
  <option value="Zimbabwe">Zimbabwe</option>
</select>
      </div>

  <div class="input-group">
    <label for="grossIncome">Gross Monthly Income:</label>
    <input type="number" id="grossIncome" placeholder="Enter amount" required />
  </div>

  <div class="input-group">
    <label for="convertCurrency">Convert Net Income to:</label>
    <select id="convertCurrency">
      <option value="USD">USD</option>
      <option value="EUR">EUR</option>
      <option value="GBP">GBP</option>
      <option value="KES">KES</option>
      <option value="NGN">NGN</option>
    </select>
  </div>
</div>
  

     <div class="form-row button-row">
  <button type="submit" class="btn calculate"><i data-feather="dollar-sign"></i> Calculate</button>
  <button type="button" class="btn convert" id="convertBtn"><i data-feather="refresh-ccw"></i> Convert</button>
</div>
</form>
<section id="payrollResults" class="results-section hidden">
  <h2>Payroll Summary</h2>
  <div class="results-grid">
    <p><strong>Country:</strong> <span id="resultCountry"></span></p>
    <p><strong>Gross Income:</strong> <span id="resultGross"></span></p>
    <p><strong>PAYE:</strong> <span id="resultPAYE"></span></p>
    <p><strong>Pension:</strong> <span id="resultPension"></span></p>
    <p><strong>Health Insurance:</strong> <span id="resultHealth"></span></p>
    <p><strong>Net Income:</strong> <span id="resultNet"></span></p>
    <p><strong>Converted to <span id="resultCurrencyLabel">USD</span>:</strong></p>
    <div class="results-grid converted">
      <p><strong>Gross:</strong> <span id="convertedGross"></span></p>
      <p><strong>PAYE:</strong> <span id="convertedPAYE"></span></p>
      <p><strong>Pension:</strong> <span id="convertedPension"></span></p>
      <p><strong>Health:</strong> <span id="convertedHealth"></span></p>
      <p><strong>Net:</strong> <span id="convertedNet"></span></p>
    </div>
  </div>
</section>

<aside id="erpAd" class="erp-sidebar hidden">
  <div class="erp-overlay">
    <h3>Upgrade to Payroll ERP</h3>
    <p>Automate PAYE, NAPSA, NHIMA, and multi-country compliance with our enterprise-grade ERP.</p>
    <ul>
      <li>âœ… SADC-wide tax rules</li>
      <li>âœ… Payslip generation</li>
      <li>âœ… Bulk uploads & audit logs</li>
      <li>âœ… HR & finance integration</li>
    </ul>
    <a href="erp.html" class="btn erp-cta">Explore Plans</a>
  </div>
</aside>
</main>

  <footer class="main-footer">
    <p>&copy; 2025 Ntchito Platform. All rights reserved.</p>
  </footer>
  <script>
    feather.replace();

const countryMeta = {
  "Zambia":      { currency: "ZMW", flag: "ðŸ‡¿ðŸ‡²" },
  "South Africa": { currency: "ZAR", flag: "ðŸ‡¿ðŸ‡¦" },
  "Botswana":    { currency: "BWP", flag: "ðŸ‡§ðŸ‡¼" },
  "Namibia":     { currency: "NAD", flag: "ðŸ‡³ðŸ‡¦" },
  "Zimbabwe":    { currency: "ZWL", flag: "ðŸ‡¿ðŸ‡¼" },
  "Malawi":      { currency: "MWK", flag: "ðŸ‡²ðŸ‡¼" },
  "Mozambique":  { currency: "MZN", flag: "ðŸ‡²ðŸ‡¿" },
  "Lesotho":     { currency: "LSL", flag: "ðŸ‡±ðŸ‡¸" },
  "Eswatini":    { currency: "SZL", flag: "ðŸ‡¸ðŸ‡¿" },
  "DRC":         { currency: "CDF", flag: "ðŸ‡¨ðŸ‡©" },
  "Angola":      { currency: "AOA", flag: "ðŸ‡¦ðŸ‡´" },
  "Tanzania":    { currency: "TZS", flag: "ðŸ‡¹ðŸ‡¿" },
  "Mauritius":   { currency: "MUR", flag: "ðŸ‡²ðŸ‡º" },
  "Seychelles":  { currency: "SCR", flag: "ðŸ‡¸ðŸ‡¨" },
  "Comoros":     { currency: "KMF", flag: "ðŸ‡°ðŸ‡²" }
};

const countrySelect = document.getElementById("countrySelect");
const grossIncomeInput = document.getElementById("grossIncome");
const payrollForm = document.getElementById("payrollForm");
const payrollResults = document.getElementById("payrollResults");

const resultCountry = document.getElementById("resultCountry");
const resultGross = document.getElementById("resultGross");
const resultPAYE = document.getElementById("resultPAYE");
const resultPension = document.getElementById("resultPension");
const resultHealth = document.getElementById("resultHealth");
const resultNet = document.getElementById("resultNet");

function formatCurrency(amount, country) {
  const meta = countryMeta[country] || { currency: "", flag: "" };
  return `${meta.flag} ${meta.currency} ${amount.toFixed(2)}`;
}

function calculatePayroll(country, gross) {
  let paye = 0, pension = 0, health = 0;

  switch (country) {
    case "Zambia":
      if (gross <= 4800) paye = 0;
      else if (gross <= 6900) paye = (gross - 4800) * 0.25;
      else if (gross <= 9900) paye = 525 + (gross - 6900) * 0.30;
      else paye = 1425 + (gross - 9900) * 0.375;
      pension = gross * 0.05;
      health = gross * 0.01;
      break;

    case "South Africa":
      paye = gross * 0.18;
      pension = gross * 0.075;
      health = gross * 0.02;
      break;

    case "Botswana":
      paye = gross > 3000 ? (gross - 3000) * 0.25 : 0;
      pension = gross * 0.05;
      health = gross * 0.015;
      break;

    case "Namibia":
      paye = gross * 0.20;
      pension = gross * 0.075;
      health = gross * 0.015;
      break;

    case "Zimbabwe":
      paye = gross * 0.25;
      pension = gross * 0.05;
      health = gross * 0.02;
      break;

    default:
      paye = gross * 0.15;
      pension = gross * 0.05;
      health = gross * 0.01;
  }

  const net = gross - (paye + pension + health);
  return { paye, pension, health, net };
}

const resultUSD = document.getElementById("resultUSD");

function formatCurrency(amount, country) {
  const meta = countryMeta[country] || { currency: "", flag: "" };
  return `${meta.flag} ${meta.currency} ${amount.toLocaleString(undefined, {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2
  })}`;
}

const convertBtn = document.getElementById("convertBtn");
const convertCurrency = document.getElementById("convertCurrency");
const resultCurrencyLabel = document.getElementById("resultCurrencyLabel");
const erpAd = document.getElementById("erpAd");

const convertedGross = document.getElementById("convertedGross");
const convertedPAYE = document.getElementById("convertedPAYE");
const convertedPension = document.getElementById("convertedPension");
const convertedHealth = document.getElementById("convertedHealth");
const convertedNet = document.getElementById("convertedNet");

const rates = {
  USD: 22.5,
  EUR: 24.8,
  GBP: 29.1,
  KES: 0.15,
  NGN: 0.012
};

function convertAmount(amount, currency) {
  const rate = rates[currency] || 22.5;
  return (amount / rate).toLocaleString(undefined, {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2
  });
}

convertBtn.addEventListener("click", () => {
  const currency = convertCurrency.value;
  resultCurrencyLabel.textContent = currency;

  const gross = parseFloat(grossIncomeInput.value);
  const { paye, pension, health, net } = calculatePayroll(countrySelect.value, gross);

  convertedGross.textContent = `${currency} ${convertAmount(gross, currency)}`;
  convertedPAYE.textContent = `${currency} ${convertAmount(paye, currency)}`;
  convertedPension.textContent = `${currency} ${convertAmount(pension, currency)}`;
  convertedHealth.textContent = `${currency} ${convertAmount(health, currency)}`;
  convertedNet.textContent = `${currency} ${convertAmount(net, currency)}`;
});

payrollForm.addEventListener("submit", e => {
  e.preventDefault();
  const country = countrySelect.value;
  const gross = parseFloat(grossIncomeInput.value);

  if (!country || isNaN(gross)) return;

  const { paye, pension, health, net } = calculatePayroll(country, gross);

  resultCountry.textContent = `${countryMeta[country].flag} ${country}`;
  resultGross.textContent = formatCurrency(gross, country);
  resultPAYE.textContent = formatCurrency(paye, country);
  resultPension.textContent = formatCurrency(pension, country);
  resultHealth.textContent = formatCurrency(health, country);
  resultNet.textContent = formatCurrency(net, country);

  payrollResults.classList.remove("hidden");
  erpAd.classList.remove("hidden");
});
  </script>
</body>
</html>
